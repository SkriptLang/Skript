function {@function}) :: boolean:
	return true

options:
	function: foo(

function local() :: number:
	return 1

local function local() :: number:
	return 2

local function bar() :: boolean:
	return true

local function _blob() :: string:
	return "blub"

test "functions":
	assert foo() is true with "function return type failed"
	assert local() is not 1 with "global function parsed before local function"
	assert bar() is true with "local function didn't execute correctly"
	assert _blob() is "blub" with "function that starts with underscore didn't execute correctly"

local function list_argument_single_default(x: texts=("hey")) -> texts:
    return {_x::*}

test "function list argument with a single default value":
	assert list_argument_single_default() = "hey"

local function argument_single_default(x: text="hey") -> text:
    return {_x}

test "function argument with a default value":
	assert argument_single_default() = "hey"

local function literal_test(x: entity type):
	stop

local function literal_test_projectile(x: entity):
	stop

test "literal type parsing":
	parse:
		literal_test(firework)
	assert last parse logs are not set

	spawn an arrow at test-location:
		set {_entity} to entity
		parse:
			literal_test_projectile(projectile)

	assert last parse logs are not set
	clear entity within {_entity}

local function argument_test(x: int, y: int):
	stop

local function argument_test_list(xs: ints):
	stop

test "function structure arguments":
	parse:
		argument_test(1)
	assert last parse logs contain "The function argument_test(integer) does not exist"

	parse:
		argument_test(1, 2)
	assert last parse logs are not set

	parse:
		argument_test(1, 2, 3)
	assert last parse logs contain "The function argument_test(integer, integer, integer) does not exist"

	parse:
		argument_test_list((1, 2, 3))
	assert last parse logs are not set

	parse:
		argument_test_list(1, (2, 3))
	assert last parse logs contain "The function argument_test_list(integer, integers) does not exist"

local function argument_default(x: int, y: int = 2) -> int:
    return {_x} + {_y}

test "function default arguments":
    assert argument_default(2, 3) = 5
    assert argument_default(2) = 4
